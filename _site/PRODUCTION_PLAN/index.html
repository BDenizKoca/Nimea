<h1>Production Plan: Nimea Interactive Map &amp; Wiki</h1>
<p>This document outlines the development plan for the Nimea project, based on our refined vision. We will track progress here.</p>
<h2>Phase 1: Visual Foundation &amp; Core Structure</h2>
<ul>
<li>[x] Establish the visual theme: parchment background, medieval fonts, and basic layout.</li>
<li>[x] Set up the Eleventy project structure (<code>package.json</code>, <code>.eleventy.js</code>).</li>
<li>[x] Create initial wiki and map placeholder pages.</li>
</ul>
<h2>Phase 2: Wiki Content &amp; DM Editor</h2>
<ul>
<li>[x] Integrate Decap CMS to create the <code>/admin</code> panel for wiki editing.</li>
<li>[x] Configure CMS collections for all wiki chapters (Locations, Characters, etc.).</li>
<li>[x] Include a <code>public: true/false</code> toggle in the editor for GM-only content.</li>
<li>[x] Set up a local Git backend for testing the CMS.</li>
</ul>
<h2>Phase 3: Interactive Map &amp; DM Editor</h2>
<ul>
<li>[ ] Build the core Leaflet map with the base image and overlays.</li>
<li>[ ] Implement the in-map DM mode (<code>?dm=1</code>) for adding/editing markers.</li>
<li>[ ] Implement tools to &quot;paint&quot; terrain data (difficult, blocked).</li>
<li>[ ] Create &quot;Export&quot; functionality to save <code>markers.json</code> and <code>terrain.geojson</code>.</li>
<li>[ ] Include a <code>public: true/false</code> toggle for map markers.</li>
</ul>
<h2>Phase 4: Integration &amp; Interactivity</h2>
<ul>
<li>[ ] Connect the wiki and the map with a &quot;Show on map&quot; button (<code>/map?focus=&lt;map_id&gt;</code>).</li>
<li>[ ] Implement A* pathfinding using the terrain data from the map editor.</li>
<li>[ ] Build the route planning UI to display distance and travel time.</li>
</ul>
<h2>Phase 5: Polish &amp; Final Features</h2>
<ul>
<li>[ ] Implement the automatic &quot;backlinks&quot; feature for wiki pages.</li>
<li>[ ] Integrate a static search engine (e.g., Pagefind) for the wiki.</li>
<li>[ ] Final styling touches: faded image borders, iconography, and responsive design.</li>
</ul>
